<!--
 Copyright (c) 2020 Thomas J. Otterson
 
 This software is released under the MIT License.
 https://opensource.org/licenses/MIT
-->

> `label(p: Parser<T>, msg: string): Parser<T>`

Applies a parser and overwrites its error message on failure.

`label` does nothing except pass the result along if its parser consumes any input (parsers/typically, but not always, if it succeeds or fails fatally). If it does *not* consume input, it replaces whatever error message was generated with [`expected(msg)`](../tools/expected.md).

This is typically used to clarify error messages, especially in parsers like [`choice`](choice.md) that might have many branches with their own error messages. For instance, if `choice(upper, lower, digit.md)` in the example below was not wrapped with `label`, its expected error message would be `'Expected an uppercase letter, a lowercase letter, or a digit'`. `label` is used to consolidate that message into `'Expected an alphanumeric character'`.

#### Example

```javascript
const parser = label(choice(upper, lower, digit), 'an alphanumeric character')

const s = parse(parser, 'abc')
console.log(status(s))  // "ok"
console.log(success(s)) // "a"

const f = parse(parser, ' abc ')
console.log(status(f))  // "fail"
console.log(failure(f)) // Parse error at (line 1, column 1):
                        //
                        //  abc 
                        // ^
                        // Expected an alphanumeric character
```

#### Parameters

* `p`: The parser to apply. If it does not consume any input, its error message will be changed.
* `msg`: The error message for when `p` does not consume input.

#### Success

* Succeeds if `p` succeeds. Returns the result of `p`.

#### Failure

* Fails if `p` fails. In this case, the error message generated by `p` will be replaced with `msg`.

#### Fatal Failure

* Fails fatally if `p` fails fatally.

#### Throws

* Throws an error if `p` is not a parser.
* Throws an error if `msg` is not a string.

#### See Also

* [`Parser`](../types/parser.md)
* [`attemptM`](attemptm.md)
* [`choice`](choice.md)
* [`followedBy`](followedby.md)
* [`notEmpty`](notempty.md)
* [`notFollowedBy`](notfollowedby.md)
* [`satisfy`](satisfy.md)