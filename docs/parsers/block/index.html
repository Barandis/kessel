
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Kessel parser combinators for JavaScript">
      
      
      
      
        <meta name="author" content="Thomas J. Otterson">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.6">
    
    
      
        <title>block - Kessel</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6910b76c.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.196e0c26.min.css">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#example" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="Kessel" class="md-header-nav__button md-logo" aria-label="Kessel">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Kessel
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              block
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/Barandis/kessel" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          

  

<nav class="md-tabs md-tabs--active" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
    
    <a href="../.." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
      
        
      
        
  
  
    <li class="md-tabs__item">
      
      
      <a href="../../guide/intro/" class="md-tabs__link">
        User's Guide
      </a>
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
      
        
      
      <a href="../../api/" class="md-tabs__link md-tabs__link--active">
        API Reference
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Kessel" class="md-nav__button md-logo" aria-label="Kessel">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Kessel
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/Barandis/kessel" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../overview/" class="md-nav__link">
      Overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../installation/" class="md-nav__link">
      Installation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" >
    <label class="md-nav__link" for="nav-4">
      User's Guide
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="User's Guide" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        User's Guide
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../guide/intro/" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guide/parsers/" class="md-nav__link">
      1. A Parser is What
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guide/running/" class="md-nav__link">
      2. Running Parsers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../guide/operation/" class="md-nav__link">
      3. Parsers, How Do They Work?
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    <label class="md-nav__link" for="nav-5">
      API Reference
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="API Reference" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        API Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/" class="md-nav__link">
      Summary
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-2" type="checkbox" id="nav-5-2" checked>
    <label class="md-nav__link" for="nav-5-2">
      Parsers
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Parsers" data-md-level="2">
      <label class="md-nav__title" for="nav-5-2">
        <span class="md-nav__icon md-icon"></span>
        Parsers
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../all/" class="md-nav__link">
      all
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../alpha/" class="md-nav__link">
      alpha
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../alphau/" class="md-nav__link">
      alphaU
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../always/" class="md-nav__link">
      always
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../andthen/" class="md-nav__link">
      andThen
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../andthenb/" class="md-nav__link">
      andThenB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../any/" class="md-nav__link">
      any
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../anyof/" class="md-nav__link">
      anyOf
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../anystring/" class="md-nav__link">
      anyString
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../apply/" class="md-nav__link">
      apply
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../applyb/" class="md-nav__link">
      applyB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../assoc1l/" class="md-nav__link">
      assoc1L
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../assoc1r/" class="md-nav__link">
      assoc1R
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../assocl/" class="md-nav__link">
      assocL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../assocr/" class="md-nav__link">
      assocR
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../attempt/" class="md-nav__link">
      attempt
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../attemptm/" class="md-nav__link">
      attemptM
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../between/" class="md-nav__link">
      between
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../betweenb/" class="md-nav__link">
      betweenB
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        block
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      block
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    Example
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#success" class="md-nav__link">
    Success
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#failure" class="md-nav__link">
    Failure
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fatal-failure" class="md-nav__link">
    Fatal Failure
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#throws" class="md-nav__link">
    Throws
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    See Also
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../blockb/" class="md-nav__link">
      blockB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../chain/" class="md-nav__link">
      chain
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../chainb/" class="md-nav__link">
      chainB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../char/" class="md-nav__link">
      char
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../chari/" class="md-nav__link">
      charI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../choice/" class="md-nav__link">
      choice
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../digit/" class="md-nav__link">
      digit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../empty/" class="md-nav__link">
      empty
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../eof/" class="md-nav__link">
      eof
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../failfatally/" class="md-nav__link">
      failFatally
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../failnormally/" class="md-nav__link">
      failNormally
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../fifth/" class="md-nav__link">
      fifth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../first/" class="md-nav__link">
      first
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../followedby/" class="md-nav__link">
      followedBy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../followedbym/" class="md-nav__link">
      followedByM
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../fourth/" class="md-nav__link">
      fourth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../hex/" class="md-nav__link">
      hex
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../join/" class="md-nav__link">
      join
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../label/" class="md-nav__link">
      label
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../left/" class="md-nav__link">
      left
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../leftb/" class="md-nav__link">
      leftB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../letter/" class="md-nav__link">
      letter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../letteru/" class="md-nav__link">
      letterU
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lookahead/" class="md-nav__link">
      lookAhead
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../lower/" class="md-nav__link">
      lower
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../loweru/" class="md-nav__link">
      lowerU
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../many/" class="md-nav__link">
      many
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../many1/" class="md-nav__link">
      many1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../manytill/" class="md-nav__link">
      manyTill
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../manytillb/" class="md-nav__link">
      manyTillB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../map/" class="md-nav__link">
      map
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../newline/" class="md-nav__link">
      newline
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../newlineu/" class="md-nav__link">
      newlineU
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../noneof/" class="md-nav__link">
      noneOf
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../notempty/" class="md-nav__link">
      notEmpty
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../notemptym/" class="md-nav__link">
      notEmptyM
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../notfollowedby/" class="md-nav__link">
      notFollowedBy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../notfollowedbym/" class="md-nav__link">
      notFollowedByM
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nth/" class="md-nav__link">
      nth
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../octal/" class="md-nav__link">
      octal
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../optional/" class="md-nav__link">
      optional
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../orelse/" class="md-nav__link">
      orElse
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../orvalue/" class="md-nav__link">
      orValue
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pipe/" class="md-nav__link">
      pipe
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pipeb/" class="md-nav__link">
      pipeB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../range/" class="md-nav__link">
      range
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../regex/" class="md-nav__link">
      regex
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repeat/" class="md-nav__link">
      repeat
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../repeatb/" class="md-nav__link">
      repeatB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../right/" class="md-nav__link">
      right
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../rightb/" class="md-nav__link">
      rightB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../satisfy/" class="md-nav__link">
      satisfy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../satisfym/" class="md-nav__link">
      satisfyM
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../second/" class="md-nav__link">
      second
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sepby/" class="md-nav__link">
      sepBy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sepby1/" class="md-nav__link">
      sepBy1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sependby/" class="md-nav__link">
      sepEndBy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sependby1/" class="md-nav__link">
      sepEndBy1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sequence/" class="md-nav__link">
      sequence
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sequenceb/" class="md-nav__link">
      sequenceB
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../skip/" class="md-nav__link">
      skip
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../skipmany/" class="md-nav__link">
      skipMany
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../skipmany1/" class="md-nav__link">
      skipMany1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../space/" class="md-nav__link">
      space
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../spaces/" class="md-nav__link">
      spaces
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../spaces1/" class="md-nav__link">
      spaces1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../spaces1u/" class="md-nav__link">
      spaces1U
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../spacesu/" class="md-nav__link">
      spacesU
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../spaceu/" class="md-nav__link">
      spaceU
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../string/" class="md-nav__link">
      string
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../stringi/" class="md-nav__link">
      stringI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../third/" class="md-nav__link">
      third
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../upper/" class="md-nav__link">
      upper
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../upperu/" class="md-nav__link">
      upperU
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../value/" class="md-nav__link">
      value
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-3" type="checkbox" id="nav-5-3" >
    <label class="md-nav__link" for="nav-5-3">
      Tools
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Tools" data-md-level="2">
      <label class="md-nav__title" for="nav-5-3">
        <span class="md-nav__icon md-icon"></span>
        Tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/compound/" class="md-nav__link">
      compound
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/expected/" class="md-nav__link">
      expected
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/fail/" class="md-nav__link">
      fail
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/failure/" class="md-nav__link">
      failure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/fatal/" class="md-nav__link">
      fatal
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/formaterrors/" class="md-nav__link">
      formatErrors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/generic/" class="md-nav__link">
      generic
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/getposition/" class="md-nav__link">
      getPosition
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/maybefatal/" class="md-nav__link">
      maybeFatal
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/merge/" class="md-nav__link">
      merge
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/nested/" class="md-nav__link">
      nested
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/ok/" class="md-nav__link">
      ok
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/other/" class="md-nav__link">
      other
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/parse/" class="md-nav__link">
      parse
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/parser/" class="md-nav__link">
      parser
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/run/" class="md-nav__link">
      run
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/status/" class="md-nav__link">
      status
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/succeeded/" class="md-nav__link">
      succeeded
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/success/" class="md-nav__link">
      success
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tools/unexpected/" class="md-nav__link">
      unexpected
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5-4" type="checkbox" id="nav-5-4" >
    <label class="md-nav__link" for="nav-5-4">
      Types
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Types" data-md-level="2">
      <label class="md-nav__title" for="nav-5-4">
        <span class="md-nav__icon md-icon"></span>
        Types
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../types/compounderror/" class="md-nav__link">
      CompoundError
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../types/context/" class="md-nav__link">
      Context
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../types/errorlist/" class="md-nav__link">
      ErrorList
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../types/errortype/" class="md-nav__link">
      ErrorType
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../types/formatter/" class="md-nav__link">
      Formatter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../types/input/" class="md-nav__link">
      Input
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../types/localerror/" class="md-nav__link">
      LocalError
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../types/nestederror/" class="md-nav__link">
      NestedError
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../types/parser/" class="md-nav__link">
      Parser
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../types/reply/" class="md-nav__link">
      Reply
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../types/result/" class="md-nav__link">
      Result
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../types/status/" class="md-nav__link">
      Status
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    Example
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#success" class="md-nav__link">
    Success
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#failure" class="md-nav__link">
    Failure
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fatal-failure" class="md-nav__link">
    Fatal Failure
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#throws" class="md-nav__link">
    Throws
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-also" class="md-nav__link">
    See Also
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>block</h1>
                
                <!--
 Copyright (c) 2020 Thomas J. Otterson

 This software is released under the MIT License.
 https://opensource.org/licenses/MIT
-->

<blockquote>
<p><code>block(genFn: Iterator&lt;Parser&lt;any&gt;, T, any&gt;): Parser&lt;T&gt;</code></p>
</blockquote>
<p>Executes a generator function that can yield to parsers in its body.</p>
<p><code>block</code> is the most versatile parser in the entire library and provides a way to parse pretty much anything without having to write a custom parser. It corresponds to using do-notation blocks in Haskell (hence the name <code>block</code>).</p>
<p>The generator function can do anything that any function could do. In addition, it can have <code>yield</code> expressions that yield any parser. That parser will be applied at that point, and if it's successful, its result will be fed back into the generator function, able to be used as needed (for example, in <code>const number = yield join(many1(digit))</code> in the example, the result of the <code>join</code> parser is assigned to the variable <code>number</code>). When the generator function returns, its return value becomes the value returned by the <code>block</code> parser.</p>
<p>If any of the parsers fail when yielded, then <code>block</code> will fail. If any input was consumed before the failure, that failure will be fatal.</p>
<p><code>block</code> can be used to implement pretty much any other combinator. It, in conjunction with <a href="#any"><code>any</code></a>, could be used to implement any other parser in this library. However, if there is a parser that already does what needs to be done, it's sure to be more efficient than just shoving everything into a <code>block</code>.</p>
<p>This is most notable with sequences. A <code>block</code> parser that discards a number of parser results and keeps one, returning that result, can very often be implemented as a <a href="#parser"><code>sequence</code></a> wrapped in <a href="#nth"><code>nth</code></a>. This is a fairly common use case.</p>
<h4 id="example">Example</h4>
<div class="highlight"><pre><span></span><code><span class="kr">const</span> <span class="nx">parser</span> <span class="o">=</span> <span class="nx">block</span><span class="p">(</span><span class="kd">function</span> <span class="o">*</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">yield</span> <span class="nx">spaces</span>
  <span class="kr">const</span> <span class="nx">sign</span> <span class="o">=</span> <span class="k">yield</span> <span class="nx">optional</span><span class="p">(</span><span class="nx">orElse</span><span class="p">(</span><span class="kr">char</span><span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">),</span> <span class="kr">char</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)))</span>
  <span class="kr">const</span> <span class="nx">number</span> <span class="o">=</span> <span class="k">yield</span> <span class="nx">join</span><span class="p">(</span><span class="nx">many1</span><span class="p">(</span><span class="nx">digit</span><span class="p">))</span>
  <span class="k">yield</span> <span class="nx">spaces</span>

  <span class="kr">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">number</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">sign</span> <span class="o">===</span> <span class="s1">&#39;-&#39;</span> <span class="o">?</span> <span class="o">-</span><span class="mf">1</span> <span class="o">:</span> <span class="mf">1</span><span class="p">)</span>
  <span class="k">return</span> <span class="nx">result</span>
<span class="p">})</span>

<span class="kr">const</span> <span class="nx">s</span> <span class="o">=</span> <span class="nx">parse</span><span class="p">(</span><span class="nx">parser</span><span class="p">,</span> <span class="s1">&#39;   1729   &#39;</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">status</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span>  <span class="c1">// &quot;ok&quot;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">success</span><span class="p">(</span><span class="nx">s</span><span class="p">))</span> <span class="c1">// 1729</span>

<span class="kr">const</span> <span class="nx">f</span> <span class="o">=</span> <span class="nx">parse</span><span class="p">(</span><span class="nx">parser</span><span class="p">,</span> <span class="s1">&#39;abcd&#39;</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">status</span><span class="p">(</span><span class="nx">f</span><span class="p">))</span>  <span class="c1">// &quot;fail&quot;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">failure</span><span class="p">(</span><span class="nx">f</span><span class="p">))</span> <span class="c1">// Parse error at (line 1, column 1):</span>
                        <span class="c1">//</span>
                        <span class="c1">// abcd</span>
                        <span class="c1">// ^</span>
                        <span class="c1">// Expected a digit</span>

<span class="kr">const</span> <span class="nx">t</span> <span class="o">=</span> <span class="nx">parse</span><span class="p">(</span><span class="nx">parser</span><span class="p">,</span> <span class="s1">&#39;-abcd&#39;</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">status</span><span class="p">(</span><span class="nx">t</span><span class="p">))</span>  <span class="c1">// &quot;fatal&quot;</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">failure</span><span class="p">(</span><span class="nx">t</span><span class="p">))</span> <span class="c1">// Parse error at (line 1, column 2):</span>
                        <span class="c1">//</span>
                        <span class="c1">// -abcd</span>
                        <span class="c1">//  ^</span>
                        <span class="c1">// Expected a digit</span>
</code></pre></div>
<p>The first yielded parser here is <code>spaces</code>. This skips zero or more whitespace characters. Its result is discarded as it is not assigned to anything (besides, <code>spaces</code> only returns <code>null</code> so its result isn't useful).</p>
<p>The second yielded parser is <code>optional(orElse(char('+'), char('-')))</code>. This will match either a <code>'+'</code> or <code>'-'</code> if it's there, or return <code>null</code> if the next character is neither of those (without <code>optional</code> it would fail, and we don't want that because it's okay for a number to have no sign). This value (either <code>'+'</code>, <code>'-'</code>, or <code>null</code>) is assigned to the variable <code>sign</code>.</p>
<p>The third yielded parser is <code>join(many1(digit))</code>. This simply matches a series of one or more digit characters (<code>0-9</code>), returning them as a single string instead of an array of characters (because of <code>join</code>). This parses a natural number, assigning the result to <code>number</code>. (When combined with <code>sign</code>, this could be a negative number as well, so the two together parse an integer.)</p>
<p>The fourth yielded parser skips whitespace at the end, similar to the first parser.</p>
<p>After the parsing is done, <code>sign</code> and <code>number</code> are used in a calculation that turns them into an integer of the JavaScript <code>number</code> type. This number is returned at the end, so the <code>block</code> parser in total results in this number. Note that it isn't a string, like most parsers return; <code>block</code> can return anything that its function can return.</p>
<p>The first case (<code>s</code>) shows success. Whitespace was skipped before and after the number, an optional sign was parsed (which was not present), and then the string <code>'1729'</code> was parsed. The calculation turned this into the number <code>1729</code>, which was returned.</p>
<p>The second case (<code>f</code>) fails because the first character is not a digit. It does not have to be whitespace (<code>spaces</code> can match zero spaces) and it does not have to be a sign (that parser is optional), but the <code>digit</code> part of the third parser has to be matched. No input was consumed before this failure, so it is not a fatal failure.</p>
<p>The third case (<code>t</code>) fails because, while the whitespace was ignored and the optional sign was parsed, the third parser fails against the non-digit <code>'a'</code>. Since input <em>was</em> consumed (the negative sign) before this failure, it is fatal.</p>
<h4 id="parameters">Parameters</h4>
<ul>
<li><code>genFn</code>: A generator function that provides the body of the <code>block</code> parser. This generator function can <code>yield</code> parsers, which will have those parsers' results fed back into the function when it's restarted (so that they can be assigned to variables, used in calculations, etc.). The return value of this generator function becomes the result of the <code>block</code> parser.</li>
</ul>
<h4 id="success">Success</h4>
<ul>
<li>Succeeds if every parser that is applied in the generator function succeeds. (Not all parsers need be applied; those that are skipped by conditional statements, for instance, will never execute.) Returns the return value of the generator function.</li>
</ul>
<h4 id="failure">Failure</h4>
<ul>
<li>Fails if any yielded parser fails before any input is consumed.</li>
</ul>
<h4 id="fatal-failure">Fatal Failure</h4>
<ul>
<li>Fails fatally if any yielded parser fails fatally.</li>
<li>Fails fatally if any yielded parser fails non-fatally after some input was consumed.</li>
</ul>
<h4 id="throws">Throws</h4>
<ul>
<li>Throws an error if <code>genFn</code> is not a generator function. </li>
<li>Throws an error if any <code>yield</code> statement is executed and the value that is yielded is not a parser.</li>
</ul>
<h4 id="see-also">See Also</h4>
<ul>
<li><a href="../../types/parser/"><code>Parser</code></a></li>
<li><a href="../blockb/"><code>blockB</code></a></li>
<li><a href="../sequence/"><code>sequence</code></a></li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../betweenb/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                betweenB
              </div>
            </div>
          </a>
        
        
          <a href="../blockb/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                blockB
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2020 Thomas J. Otterson
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.fd16492e.min.js"></script>
      <script src="../../assets/javascripts/bundle.7836ba4d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: ['navigation.instant', 'navigation.tabs'],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>