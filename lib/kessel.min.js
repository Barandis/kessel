/*!
 * Copyright (c) 2020 Thomas Otterson
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * 
 */
!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.kessel=r():t.kessel=r()}(this,(function(){return function(t){var r={};function n(e){if(r[e])return r[e].exports;var u=r[e]={i:e,l:!1,exports:{}};return t[e].call(u.exports,u,u.exports,n),u.l=!0,u.exports}return n.m=t,n.c=r,n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,r){if(1&r&&(t=n(t)),8&r)return t;if(4&r&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var u in t)n.d(e,u,function(r){return t[r]}.bind(null,u));return e},n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,"a",r),r},n.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},n.p="",n(n.s=0)}([function(t,r,n){"use strict";n.r(r),n.d(r,"alpha",(function(){return tt})),n.d(r,"any",(function(){return R})),n.d(r,"anyOf",(function(){return H})),n.d(r,"char",(function(){return G})),n.d(r,"chari",(function(){return W})),n.d(r,"digit",(function(){return K})),n.d(r,"eof",(function(){return N})),n.d(r,"hex",(function(){return Q})),n.d(r,"letter",(function(){return Y})),n.d(r,"lower",(function(){return nt})),n.d(r,"noneOf",(function(){return J})),n.d(r,"octal",(function(){return X})),n.d(r,"range",(function(){return q})),n.d(r,"satisfy",(function(){return Z})),n.d(r,"upper",(function(){return rt})),n.d(r,"constant",(function(){return et})),n.d(r,"fail",(function(){return ut})),n.d(r,"failFatally",(function(){return st})),n.d(r,"unexpected",(function(){return ot})),n.d(r,"alphaU",(function(){return vt})),n.d(r,"letterU",(function(){return wt})),n.d(r,"lowerU",(function(){return mt})),n.d(r,"newline",(function(){return St})),n.d(r,"newlineU",(function(){return jt})),n.d(r,"regex",(function(){return gt})),n.d(r,"space",(function(){return Ft})),n.d(r,"spaceU",(function(){return Lt})),n.d(r,"spaces",(function(){return $t})),n.d(r,"spaces1",(function(){return Bt})),n.d(r,"spaces1U",(function(){return At})),n.d(r,"spacesU",(function(){return Ut})),n.d(r,"upperU",(function(){return Et})),n.d(r,"all",(function(){return Tt})),n.d(r,"anyString",(function(){return Ct})),n.d(r,"string",(function(){return _t})),n.d(r,"stringi",(function(){return Pt})),n.d(r,"alt",(function(){return It})),n.d(r,"altL",(function(){return Dt})),n.d(r,"back",(function(){return Gt})),n.d(r,"bothB",(function(){return Nt})),n.d(r,"chainB",(function(){return Zt})),n.d(r,"countB",(function(){return Ht})),n.d(r,"leftB",(function(){return qt})),n.d(r,"manyTillB",(function(){return Jt})),n.d(r,"optional",(function(){return Vt})),n.d(r,"orElse",(function(){return zt})),n.d(r,"rightB",(function(){return Rt})),n.d(r,"seqB",(function(){return Wt})),n.d(r,"between",(function(){return sr})),n.d(r,"both",(function(){return er})),n.d(r,"chain",(function(){return Kt})),n.d(r,"join",(function(){return Xt})),n.d(r,"left",(function(){return rr})),n.d(r,"map",(function(){return Qt})),n.d(r,"pipe",(function(){return ur})),n.d(r,"right",(function(){return nr})),n.d(r,"skip",(function(){return Yt})),n.d(r,"value",(function(){return tr})),n.d(r,"followedBy",(function(){return ar})),n.d(r,"followedByL",(function(){return cr})),n.d(r,"lookAhead",(function(){return or})),n.d(r,"notEmpty",(function(){return ir})),n.d(r,"notFollowedBy",(function(){return fr})),n.d(r,"notFollowedByL",(function(){return lr})),n.d(r,"label",(function(){return dr})),n.d(r,"block",(function(){return hr})),n.d(r,"chainl",(function(){return Lr})),n.d(r,"chainl1",(function(){return $r})),n.d(r,"chainr",(function(){return Ur})),n.d(r,"chainr1",(function(){return Br})),n.d(r,"count",(function(){return mr})),n.d(r,"many",(function(){return kr})),n.d(r,"many1",(function(){return yr})),n.d(r,"manyTill",(function(){return Fr})),n.d(r,"sepBy",(function(){return gr})),n.d(r,"sepBy1",(function(){return wr})),n.d(r,"sepEndBy",(function(){return vr})),n.d(r,"sepEndBy1",(function(){return Er})),n.d(r,"seq",(function(){return xr})),n.d(r,"skipMany",(function(){return br})),n.d(r,"skipMany1",(function(){return Or})),n.d(r,"Status",(function(){return x})),n.d(r,"error",(function(){return b})),n.d(r,"fatal",(function(){return O})),n.d(r,"makeParser",(function(){return k})),n.d(r,"maybeFatal",(function(){return g})),n.d(r,"ok",(function(){return y})),n.d(r,"parse",(function(){return w})),n.d(r,"ErrorType",(function(){return m})),n.d(r,"clear",(function(){return S})),n.d(r,"expectedError",(function(){return L})),n.d(r,"formatErrors",(function(){return D})),n.d(r,"genericError",(function(){return U})),n.d(r,"getPosition",(function(){return V})),n.d(r,"otherError",(function(){return B})),n.d(r,"overwrite",(function(){return j})),n.d(r,"push",(function(){return A})),n.d(r,"unexpectedError",(function(){return $}));const e=new TextEncoder,u=new TextDecoder;function*s(t,r,n,e){const u="number"==typeof r?t:0,s="number"==typeof r?r:t,o="number"==typeof n?0===n?1:Math.abs(n):1,i="number"==typeof n?!!e:"number"==typeof r?!!n:!!r,a=u<s;let c=u;for(;!(a?i?c>s:c>=s:i?c<s:c<=s);)yield c,c=a?c+o:c-o}function o(t,r,n){const e=Uint8Array.from({length:r},(r,e)=>n.getUint8(t+e));return u.decode(e)}function i(t){return new DataView(e.encode(t).buffer)}function a(t){return[...t].length}function c(t,r){const n=r.getUint8(t);return(128&n)>>7==0?1:(224&n)>>5==6?2:(240&n)>>4==14?3:(240&n)>>4==15?4:1}function f(t,r){const n=c(t,r);return{width:n,next:o(t,n,r)}}function l(t){return`"${t}"`}function d(t){return[t,t]}function p(t){switch(t.length){case 0:return"";case 1:return t[0];case 2:return t.join(" or ");default:{const r=t.slice(),n=r.pop();return`${r.join(", ")}, or ${n}`}}}const x={Ok:Symbol("ok"),Error:Symbol("error"),Fatal:Symbol("fatal")};function h(t){const r="Parser input must be a string, a typed array, an array buffer, or a data view; parser input was "+typeof t;return{view:(t=>{if("string"==typeof t)return i(t);if((n=t)instanceof Uint8Array||n instanceof Uint8ClampedArray||n instanceof Uint16Array||n instanceof Uint32Array||n instanceof Int8Array||n instanceof Int16Array||n instanceof Int32Array||n instanceof Float32Array||n instanceof Float64Array)return new DataView(t.buffer);var n;if(t instanceof ArrayBuffer)return new DataView(t);if(t instanceof DataView)return t;throw new Error(r)})(t),index:0}}function k(t){return t}function y(t,r=null,n=t.index){return[{...t,index:n},{status:x.Ok,value:r}]}function b(t,r=[],n=t.index){return[{...t,index:n},{status:x.Error,errors:r}]}function O(t,r=[],n=t.index){return[{...t,index:n},{status:x.Fatal,errors:r}]}function g(t,r,n=[],e=r.index){return[{...r,index:e},{status:t?x.Fatal:x.Error,errors:n}]}function w(t,r){return t(h(r))}const v=/\t/gu,E=/(?:\p{Mn}|\p{Cf})/gu,m={Expected:Symbol("expected"),Unexpected:Symbol("unexpected"),Generic:Symbol("message"),Other:Symbol("other")};function F(t,r){return{type:t,message:r}}function L(t){return F(m.Expected,t)}function $(t){return F(m.Unexpected,t)}function U(t){return F(m.Generic,t)}function B(t){return F(m.Other,t)}function A(t,...r){return[...t,...r]}function S(t,...r){return 0===r.length?[]:t.filter(t=>!r.includes(t.type))}function j(t,...r){const n=r.map(t=>t.type);return[...t.filter(t=>!n.includes(t.type)),...r]}function M(t,r){const n=r.getUint8(t);if(10===n||11===n||12===n)return{newline:!0,skip:1};if(13===n){if(t<r.byteLength-1){const e=r.getUint8(t+1);if(13===n&&10===e)return{newline:!0,skip:2}}return{newline:!0,skip:1}}if(t<r.byteLength-1){const e=r.getUint8(t+1);if(194===n&&133===e)return{newline:!0,skip:2};if(t<r.byteLength-2){const u=r.getUint8(t+2);if(226===n&&128===e&&(168===u||169===u))return{newline:!0,skip:3}}}return{newline:!1,skip:c(t,r)}}function _(t,r){let n=0,e=1,u=0;for(;u<r.byteLength;){const{newline:s,skip:o}=M(u,r);if(s){if(u+o>t)return{start:n,end:u-1,lineno:e};e++,n=u+o}u+=o}return{start:n,end:r.byteLength-1,lineno:e}}function P(t,r,n){let e=0,u=n;for(;u<t&&u<r.byteLength;)u+=c(u,r),e++;return e}function T(t,r,n){const e=[];let u=v.exec(r);for(;null!==u;)e.push(u.index),u=v.exec(r);let s=0,o=0,i=r;for(const r of e){const e=r+s,u=n-e%n;e<t+o&&(o+=u-1),s+=u-1,i=i.substring(0,e)+" ".repeat(u)+i.substring(e+1)}return{line:i,colIndex:o+t}}function C(t,r){let n=t;const e=[];let u=E.exec(r);for(;null!==u;)e.push(u.index),u.index<n&&n--,u=E.exec(r);return{colno:n+1,length:a(r)-e.length}}function I(t,r,n,e,u){const{start:s,end:i,lineno:a}=_(r,n),c=P(r,n,s),f=o(s,i-s+1,n),{colIndex:l,line:d}=T(c,f,e),{colno:x,length:h}=C(l,d),k=`Parse error at (line ${a}, column ${x}):`,y=function(t,r,n,e){if(n<=e&&r<=e)return`${t}\n${" ".repeat(n-1)}^`;if(n<=e-3)return`${t.substring(0,e-3)}...\n${" ".repeat(n-1)}^`;if(n>=r-e+3){const u=r-e+3,s=n-(r-e);return`...${t.substring(u)}\n${" ".repeat(s-1)}^`}const u=n-1-Math.ceil(e/2)+3,s=n-1+Math.floor(e/2)-3;return`...${t.substring(u,s)}...\n${" ".repeat(Math.ceil(e/2))}^`}(d,h,x,u),b=t.find(t=>t.type===m.Generic),O=t.find(t=>t.type===m.Unexpected),g=p(t.filter(t=>t.type===m.Expected).map(t=>t.message));return`${k}\n\n${y}\n${O?`Unexpected ${O.message}\n`:""}${g.length?`Expected ${g}\n`:""}${b?b.message+"\n":""}\n`}function D(t,r,n=8,e=72,u=I){const{index:s,view:o}=t;return u(r.errors,s,o,n,e)}function V(t,r=8){const{index:n,view:e}=t,{start:u,end:s,lineno:i}=_(n,e),a=P(n,e,u),c=o(u,s-u+1,e),{colIndex:f,line:l}=T(a,c,r),{colno:d,_:p}=C(f,l);return{line:i,column:d}}const z=t=>r=>{const{index:n,view:e}=r;if(n>=e.byteLength)return b(r,[$("EOF")]);const{width:u,next:s}=f(n,e);return t(s)?y(r,s,n+u):b(r,[$(l(s))])},G=t=>r=>{const[n,[e,u]]=d(z(r=>t===r)(r));return u.status===x.Ok?n:b(e,[...u.errors,L(l(t))])},W=t=>r=>{const[n,[e,u]]=d(z(r=>t.toLowerCase()===r.toLowerCase())(r));return u.status===x.Ok?n:b(e,[...u.errors,L(l(t))])},Z=t=>r=>{const n=`a character that satisfies function "${t.name.length?t.name:"<anonymous>"}"`,[e,[u,s]]=d(z(t)(r));return s.status===x.Ok?e:b(u,[...s.errors,L(n)])},q=(t,r)=>n=>{const e=`a character between "${t}" and "${r}"`,[u,[s,o]]=d(z(n=>n>=t&&n<=r)(n));return o.status===x.Ok?u:b(s,[...o.errors,L(e)])},R=t=>{const{index:r,view:n}=t;if(r===n.byteLength)return b(t,[L("any character"),$("EOF")]);const{width:e,next:u}=f(r,n);return y(t,u,r+e)},N=t=>{const{index:r,view:n}=t;if(r===n.byteLength)return y(t,null);const{_:e,next:u}=f(r,n);return b(t,[L("EOF"),$(l(u))])},H=t=>r=>{const{index:n,view:e}=r,{width:u,next:s}=f(n,e),o=[...t];if(o.includes(s))return y(r,s,n+u);return b(r,[L("any of "+p(o.map(t=>`"${t}"`))),$(l(s))])},J=t=>r=>{const{index:n,view:e}=r,{width:u,next:s}=f(n,e),o=[...t];if(o.includes(s)){return b(r,[L("none of "+p(o.map(t=>`"${t}"`))),$(l(s))])}return y(r,s,n+u)},K=t=>{const[r,[n,e]]=d(z(t=>t>="0"&&t<="9")(t));return e.status===x.Ok?r:b(n,[...e.errors,L("a digit")])},Q=t=>{const[r,[n,e]]=d(z(t=>t>="0"&&t<="9"||t>="a"&&t<="f"||t>="A"&&t<="F")(t));return e.status===x.Ok?r:b(n,[...e.errors,L("a hex digit")])},X=t=>{const[r,[n,e]]=d(z(t=>t>="0"&&t<="7")(t));return e.status===x.Ok?r:b(n,[...e.errors,L("an octal digit")])},Y=t=>{const[r,[n,e]]=d(z(t=>t>="a"&&t<="z"||t>="A"&&t<="Z")(t));return e.status===x.Ok?r:b(n,[...e.errors,L("a letter")])},tt=t=>{const[r,[n,e]]=d(z(t=>t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9")(t));return e.status===x.Ok?r:b(n,[...e.errors,L("an alphanumeric character")])},rt=t=>{const[r,[n,e]]=d(z(t=>t>="A"&&t<="Z")(t));return e.status===x.Ok?r:b(n,[...e.errors,L("an uppercase letter")])},nt=t=>{const[r,[n,e]]=d(z(t=>t>="a"&&t<="z")(t));return e.status===x.Ok?r:b(n,[...e.errors,L("a lowercase letter")])},et=t=>r=>y(r,t),ut=t=>r=>b(r,[U(t)]),st=t=>r=>O(r,[U(t)]),ot=t=>r=>b(r,[$(t)]),it=/^\p{Alphabetic}/u,at=/^(?:\p{Alphabetic}|\p{N})/u,ct=/^(?:\p{Uppercase}|\p{Lt})/u,ft=/^\p{Lowercase}/u,lt=/^(?:\r\n|[\r\n\t ])/,dt=/^(?:\r\n|\p{White_Space})/u,pt=/^[\r\n\t ]*/,xt=/^\p{White_Space}*/u,ht=/^[\r\n\t ]+/,kt=/^\p{White_Space}+/u,yt=/^(?:\r\n|\r|\n)/,bt=/^(?:\r\n|[\r\n\u0085\u2028\u2029])/u,Ot=(t,r=null)=>n=>{const{index:e,view:u}=n,s=o(e,u.byteLength-e,u),c=s.match(t);if(c)return y(n,c[0],e+i(c[0]).byteLength);let f=null!=r?r:a(t.source)-1;f>u.byteLength-e&&(f=u.byteLength-e);return b(n,[$(0===f?"EOF":l([...s].slice(0,f).join("")))])},gt=t=>r=>{let n="string"==typeof t?new RegExp(t):t;const{source:e,flags:u}=n;if("^"!==e[0]){n=new RegExp("^"+e,u)}const[s,[o,i]]=d(Ot(n)(r));return i.status===x.Ok?s:b(o,[...i.errors,L("a string matching "+n)])},wt=t=>{const[r,[n,e]]=d(Ot(it,1)(t));return e.status===x.Ok?r:b(n,[...e.errors,L("a letter")])},vt=t=>{const[r,[n,e]]=d(Ot(at,1)(t));return e.status===x.Ok?r:b(n,[...e.errors,L("an alphanumeric character")])},Et=t=>{const[r,[n,e]]=d(Ot(ct,1)(t));return e.status===x.Ok?r:b(n,[...e.errors,L("an uppercase letter")])},mt=t=>{const[r,[n,e]]=d(Ot(ft,1)(t));return e.status===x.Ok?r:b(n,[...e.errors,L("a lowercase letter")])},Ft=t=>{const[r,[n,e]]=d(Ot(lt,1)(t));return e.status===x.Ok?r:b(n,[...e.errors,L("whitespace")])},Lt=t=>{const[r,[n,e]]=d(Ot(dt,1)(t));return e.status===x.Ok?r:b(n,[...e.errors,L("whitespace")])},$t=t=>{const[r,n]=Ot(pt,1)(t);return y(r,null)},Ut=t=>{const[r,n]=Ot(xt,1)(t);return y(r,null)},Bt=t=>{const[r,n]=Ot(ht,1)(t);return n.status===x.Ok?y(r,null):b(r,[...n.errors,L("whitespace")])},At=t=>{const[r,n]=Ot(kt,1)(t);return n.status===x.Ok?y(r,null):b(r,[...n.errors,L("whitespace")])},St=t=>{const[r,[n,e]]=d(Ot(yt,1)(t));return e.status===x.Ok?r:b(n,[...e.errors,L("a newline")])},jt=t=>{const[r,[n,e]]=d(Ot(bt,1)(t));return e.status===x.Ok?r:b(n,[...e.errors,L("a newline")])},Mt=(t,r)=>n=>{if(0===t)return y(n,"");const{index:e,view:u}=n;if(e>=u.byteLength)return b(n,[$("EOF")]);const{width:i,next:f}=function(t,r,n){const e=r.byteLength;let u=0;for(const o of s(n)){const n=t+u;if(n>=e)break;u+=c(n,r)}return t+u>=e&&(u=e-t),{width:u,next:o(t,u,r)}}(e,u,t);return a(f)===t&&r(f)?y(n,f,e+i):b(n,[$(l(f))])},_t=t=>r=>{const[n,[e,u]]=d(Mt(a(t),r=>t===r)(r));return u.status===x.Ok?n:b(e,[...u.errors,L(l(t))])},Pt=t=>r=>{const[n,[e,u]]=d(Mt(a(t),r=>t.toLowerCase()===r.toLowerCase())(r));return u.status===x.Ok?n:b(e,[...u.errors,L(l(t))])},Tt=t=>{const{index:r,view:n}=t,e=n.byteLength-r;return y(t,o(r,e,n),r+e)},Ct=t=>r=>{const[n,[e,u]]=d(Mt(t,()=>!0)(r));return u.status===x.Ok?n:b(e,[...u.errors,L(`a string of ${t} characters`)])},It=t=>r=>{const n=[];for(const e of t){const[t,[u,s]]=d(e(r));if(s.status===x.Ok)return t;if(n.push(...s.errors),s.status===x.Fatal)return O(u,n)}return b(r,n)},Dt=(t,r)=>n=>{for(const e of t){const[t,[u,s]]=d(e(n));if(s.status===x.Ok)return t;if(s.status===x.Fatal)return O(u,[L(r)])}return b(n,[L(r)])},Vt=t=>r=>{const[n,[e,u]]=d(t(r));return u.status===x.Fatal?n:y(e,null)},zt=(t,r)=>n=>{const[e,[u,s]]=d(t(n));return s.status!==x.Error?e:y(u,r)},Gt=t=>r=>{const n=r.index,[e,[u,s]]=d(t(r));return s.status!==x.Fatal?e:b(u,s.errors,n)},Wt=t=>r=>{const n=[],e=r.index;let u=r;for(const r of t){const[t,[s,o]]=d(r(u));if(u=s,o.status===x.Fatal)return t;if(o.status===x.Error)return b(u,o.errors,e);null!==o.value&&n.push(o.value)}return y(u,n)},Zt=(t,r)=>n=>{const e=n.index,[u,[s,o]]=d(t(n));if(o.status!==x.Ok)return u;const[i,[a,c]]=d(r(o.value)(s));return c.status!==x.Error?i:b(a,c.errors,e)},qt=(t,r)=>n=>{const e=n.index,[u,[s,o]]=d(t(n));if(o.status!==x.Ok)return u;const[i,[a,c]]=d(r(s));return c.status===x.Fatal?i:c.status===x.Error?b(a,c.errors,e):y(a,o.value)},Rt=(t,r)=>n=>{const e=n.index,[u,[s,o]]=d(t(n));if(o.status!==x.Ok)return u;const[i,[a,c]]=d(r(s));return c.status!==x.Error?i:b(a,c.errors,e)},Nt=(t,r)=>n=>{const e=n.index,[u,[s,o]]=d(t(n));if(o.status!==x.Ok)return u;const[i,[a,c]]=d(r(s));return c.status===x.Fatal?i:c.status===x.Ok?y(a,[o.value,c.value]):b(a,c.errors,e)},Ht=(t,r)=>n=>{const e=n.index,u=[];let o=n;for(const n of s(r)){const[r,[n,s]]=d(t(o));if(o=n,s.status===x.Fatal)return r;if(s.status===x.Error)return b(o,s.errors,e);u.push(s.value)}return y(o,u)},Jt=(t,r)=>n=>{const e=n.index,u=[];let s=n;for(;;){const[n,[o,i]]=d(r(s));if(s=o,i.status===x.Fatal)return n;if(i.status===x.Ok)break;const[a,[c,f]]=d(t(s));if(s=c,f.status===x.Fatal)return a;if(f.status===x.Error)return b(c,[...f.errors,...i.errors],e);u.push(f.value)}return y(s,u)},Kt=(t,r)=>n=>{const e=n.index,[u,[s,o]]=d(t(n));if(o.status!==x.Ok)return u;const[i,[a,c]]=d(r(o.value)(s));return c.status===x.Ok?i:g(a.index!==e,a,c.errors)},Qt=(t,r)=>n=>{const[e,[u,s]]=d(t(n));return s.status!==x.Ok?e:y(u,r(s.value))},Xt=t=>r=>{const[n,[e,u]]=d(t(r));return u.status!==x.Ok?n:y(e,u.value.join(""))},Yt=t=>r=>{const[n,[e,u]]=d(t(r));return u.status!==x.Ok?n:y(e,null)},tr=(t,r)=>n=>{const[e,[u,s]]=d(t(n));return s.status!==x.Ok?e:y(u,r)},rr=(t,r)=>n=>{const e=n.index,[u,[s,o]]=d(t(n));if(o.status!==x.Ok)return u;const[i,a]=r(s);return a.status!==x.Ok?g(i.index!==e,i,a.errors):y(i,o.value)},nr=(t,r)=>n=>{const e=n.index,[u,[s,o]]=d(t(n));if(o.status!==x.Ok)return u;const[i,[a,c]]=d(r(s));return c.status===x.Ok?i:g(a.index!==e,a,c.errors)},er=(t,r)=>n=>{const e=n.index,[u,[s,o]]=d(t(n));if(o.status!==x.Ok)return u;const[i,a]=r(s);return a.status===x.Ok?y(i,[o.value,a.value]):g(i.index!==e,i,a.errors)},ur=(t,r)=>n=>{const e=n.index,u=[];let s=n;for(const r of t){const[t,n]=r(s);if(s=t,n.status!==x.Ok)return g(s.index!==e,s,n.errors);u.push(n.value)}return y(s,r(...u))},sr=(t,r,n)=>e=>{const u=e.index,[s,[o,i]]=d(t(e));if(i.status!==x.Ok)return s;const[a,c]=n(o);if(c.status!==x.Ok)return g(a.index!==u,a,c.errors);const[f,l]=r(a);return l.status===x.Ok?y(f,c.value):g(f.index!==u,f,l.errors)},or=t=>r=>{const n=r.index,[e,u]=t(r);return u.status===x.Ok?y(e,void 0,n):b(e,u.errors,n)},ir=t=>r=>{const n=r.index,[e,[u,s]]=d(t(r));return s.status!==x.Ok||u.index!==n?e:b(u,[L("the parser to consume input")])},ar=t=>r=>{const n=r.index,[e,u]=t(r);return u.status!==x.Ok?b(e,void 0,n):y(e,null,n)},cr=(t,r)=>n=>{const e=n.index,[u,s]=t(n);return s.status!==x.Ok?b(u,[L(r)],e):y(u,null,e)},fr=t=>r=>{const n=r.index,[e,u]=t(r);return u.status===x.Ok?b(e,void 0,n):y(e,null,n)},lr=(t,r)=>n=>{const e=n.index,[u,s]=t(n);return s.status===x.Ok?b(u,[L(r)],e):y(u,null,e)},dr=(t,r)=>n=>{const[e,[u,s]]=d(t(n));return s.status!==x.Error?e:b(u,[L(r)])};function pr(t){return`[${t}]: infinite loop detected; neither content nor separator parser consumed input`}const xr=t=>r=>{const n=[],e=r.index;let u=r;for(const r of t){const[t,s]=r(u);if(u=t,s.status!==x.Ok)return u.index===e?b(u,s.errors):O(u,s.errors);null!==s.value&&n.push(s.value)}return y(u,n)},hr=t=>r=>{const n=t(),e=r.index;let u,s=r;for(;;){const{value:t,done:r}=n.next(u);if(r)return y(s,t);const[o,i]=t(s);if(s=o,i.status!==x.Ok)return s.index===e?b(s,i.errors):O(s,i.errors);u=i.value}},kr=t=>r=>{const n=[];let e=r;for(;;){const[r,[u,s]]=d(t(e));if(e=u,s.status===x.Fatal)return r;if(s.status===x.Error)break;if(n.push(s.value),e.index>=e.view.byteLength)break}return y(e,n)},yr=t=>r=>{const[n,[e,u]]=d(t(r));if(u.status!==x.Ok)return n;let s=e;const o=[u.value];for(;;){const[r,[n,e]]=d(t(s));if(s=n,e.status===x.Fatal)return r;if(e.status===x.Error)break;if(o.push(e.value),s.index>=s.view.byteLength)break}return y(s,o)},br=t=>r=>{let n=r;for(;;){const[r,[e,u]]=d(t(n));if(n=e,u.status===x.Fatal)return r;if(u.status===x.Error)break;if(n.index>=n.view.byteLength)break}return y(n,null)},Or=t=>r=>{const[n,[e,u]]=d(t(r));if(u.status!==x.Ok)return n;let s=e;for(;;){const[r,[n,e]]=d(t(s));if(s=n,e.status===x.Fatal)return r;if(e.status===x.Error)break;if(s.index>=s.view.byteLength)break}return y(s,null)},gr=(t,r)=>n=>{let e=n.index;const[u,[s,o]]=d(t(n));if(o.status===x.Fatal)return u;if(o.status===x.Error)return y(s,[]);const i=[o.value];let a=s;for(;;){e=a.index;const[n,[u,s]]=d(r(a));if(a=u,s.status===x.Fatal)return n;if(s.status===x.Error)break;const[o,[c,f]]=d(t(a));if(a=c,f.status===x.Fatal)return o;if(f.status===x.Error)break;if(a.index===e)throw new Error(pr("sepBy"));i.push(f.value)}return y(a,i,e)},wr=(t,r)=>n=>{let e=n.index;const[u,[s,o]]=d(t(n));if(o.status!==x.Ok)return u;const i=[o.value];let a=s;for(;;){e=a.index;const[n,[u,s]]=d(r(a));if(a=u,s.status===x.Fatal)return n;if(s.status===x.Error)break;const[o,[c,f]]=d(t(a));if(a=c,f.status===x.Fatal)return o;if(f.status===x.Error)break;if(a.index===e)throw new Error(pr("sepBy1"));i.push(f.value)}return y(a,i,e)},vr=(t,r)=>n=>{let e=n.index;const[u,[s,o]]=d(t(n));if(o.status===x.Fatal)return u;if(o.status===x.Error)return y(s,[]);const i=[o.value];let a=s;for(;;){e=a.index;const[n,[u,s]]=d(r(a));if(a=u,s.status===x.Fatal)return n;if(s.status===x.Error)break;const[o,[c,f]]=d(t(a));if(a=c,f.status===x.Fatal)return o;if(f.status===x.Error)break;if(a.index===e)throw new Error(pr("sepEndBy"));i.push(f.value)}const[c,f]=r({...a,index:e});return y(c,i)},Er=(t,r)=>n=>{let e=n.index;const[u,[s,o]]=d(t(n));if(o.status!==x.Ok)return u;const i=[o.value];let a=s;for(;;){e=a.index;const[n,[u,s]]=d(r(a));if(a=u,s.status===x.Fatal)return n;if(s.status===x.Error)break;const[o,[c,f]]=d(t(a));if(a=c,f.status===x.Fatal)return o;if(f.status===x.Error)break;if(a.index===e)throw new Error(pr("sepEndBy1"));i.push(f.value)}const[c,f]=r({...a,index:e});return y(c,i)},mr=(t,r)=>n=>{const e=n.index,u=[];let o=n;for(const n of s(r)){const[r,n]=t(o);if(o=r,n.status!==x.Ok)return g(o.index!==e,o,n.errors);u.push(n.value)}return y(o,u)},Fr=(t,r)=>n=>{const e=n.index,u=[];let s=n;for(;;){const[n,[o,i]]=d(r(s));if(s=o,i.status===x.Fatal)return n;if(i.status===x.Ok)break;const[a,[c,f]]=d(t(s));if(s=c,f.status===x.Fatal)return a;if(f.status===x.Error)return g(s.index!==e,s,[...f.errors,...i.errors]);u.push(f.value)}return y(s,u)},Lr=(t,r,n)=>e=>{const[u,[o,i]]=d(t(e));if(i.status===x.Fatal)return u;if(i.status===x.Error)return y(o,n);const a=[i.value],c=[];let f=o,l=f.index;for(;;){const[n,[e,u]]=d(r(f));if(f=e,u.status===x.Fatal)return n;if(u.status===x.Error)break;const[s,[o,i]]=d(t(f));if(f=o,i.status===x.Fatal)return s;if(i.status===x.Error)break;c.push(u.value),a.push(i.value),l=f.index}let p=a[0];for(const t of s(c.length))p=c[t](p,a[t+1]);return y(f,p,l)},$r=(t,r)=>n=>{const[e,[u,o]]=d(t(n));if(o.status!==x.Ok)return e;const i=[o.value],a=[];let c=u,f=c.index;for(;;){const[n,[e,u]]=d(r(c));if(c=e,u.status===x.Fatal)return n;if(u.status===x.Error)break;const[s,[o,l]]=d(t(c));if(c=o,l.status===x.Fatal)return s;if(l.status===x.Error)break;a.push(u.value),i.push(l.value),f=c.index}let l=i[0];for(const t of s(a.length))l=a[t](l,i[t+1]);return y(c,l,f)},Ur=(t,r,n)=>e=>{const[u,[o,i]]=d(t(e));if(i.status===x.Fatal)return u;if(i.status===x.Error)return y(o,n);const a=[i.value],c=[];let f=o,l=f.index;for(;;){const[n,[e,u]]=d(r(f));if(f=e,u.status===x.Fatal)return n;if(u.status===x.Error)break;const[s,[o,i]]=d(t(f));if(f=o,i.status===x.Fatal)return s;if(i.status===x.Error)break;c.push(u.value),a.push(i.value),l=f.index}let p=a[a.length-1];for(const t of s(c.length-1,-1))p=c[t](a[t],p);return y(f,p,l)},Br=(t,r)=>n=>{const[e,[u,o]]=d(t(n));if(o.status!==x.Ok)return e;const i=[o.value],a=[];let c=u,f=c.index;for(;;){const[n,[e,u]]=d(r(c));if(c=e,u.status===x.Fatal)return n;if(u.status===x.Error)break;const[s,[o,l]]=d(t(c));if(c=o,l.status===x.Fatal)return s;if(l.status===x.Error)break;a.push(u.value),i.push(l.value),f=c.index}let l=i[i.length-1];for(const t of s(a.length-1,-1))l=a[t](i[t],l);return y(c,l,f)}}])}));